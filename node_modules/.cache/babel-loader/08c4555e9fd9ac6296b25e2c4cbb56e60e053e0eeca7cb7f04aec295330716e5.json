{"ast":null,"code":"var _jsxFileName = \"/Users/zohankhan/Downloads/zohan-test/src/video/NewVideo.tsx\",\n  _s = $RefreshSig$();\nimport { FormControl, FormLabel, FormHelperText, Textarea, Input, VStack, Button, useToast } from \"@chakra-ui/react\";\nimport { useForm } from \"react-hook-form\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { useNavigate } from \"react-router-dom\";\nimport { USER_NAME, BACKEND_BASE_URL, fetchFn } from \"../helpers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultValues = {\n  title: \"\",\n  description: \"\",\n  url: \"\"\n};\nconst URL_REGEX = /^https:\\/\\/[^\\s/$.?#].[^\\s]*$/i;\nconst NewVideo = () => {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    defaultValues\n  });\n  const toast = useToast();\n  const navigate = useNavigate();\n  const {\n    mutate,\n    isPending\n  } = useMutation({\n    mutationFn: data => fetchFn(\"\".concat(BACKEND_BASE_URL, \"/api/videos\"), {\n      method: \"POST\",\n      body: JSON.stringify({\n        user_id: USER_NAME,\n        description: data.description,\n        video_url: data.url,\n        title: data.title\n      })\n    }).then(() => {\n      toast({\n        title: \"New video has been created.\",\n        status: \"success\",\n        duration: 5000,\n        isClosable: true\n      });\n      navigate(\"/\");\n    })\n  });\n  return /*#__PURE__*/_jsxDEV(VStack, {\n    as: \"form\",\n    onSubmit: handleSubmit(data => mutate(data)),\n    children: [/*#__PURE__*/_jsxDEV(FormControl, {\n      isInvalid: !!errors.title,\n      children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        ...register(\"title\", {\n          required: true\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      isInvalid: !!errors.url,\n      children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n        children: \"URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        ...register(\"url\", {\n          required: true,\n          pattern: {\n            value: URL_REGEX,\n            message: \"Please enter a valid URL\"\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n        children: \"Youtube or other video url\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      isInvalid: !!errors.description,\n      children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n        ...register(\"description\", {\n          required: true\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      isLoading: isPending,\n      children: \"Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(NewVideo, \"G7X//+zZRZ4UuukhtVm8omDVm30=\", false, function () {\n  return [useForm, useToast, useNavigate, useMutation];\n});\n_c = NewVideo;\nexport default NewVideo;\nvar _c;\n$RefreshReg$(_c, \"NewVideo\");","map":{"version":3,"names":["FormControl","FormLabel","FormHelperText","Textarea","Input","VStack","Button","useToast","useForm","useMutation","useNavigate","USER_NAME","BACKEND_BASE_URL","fetchFn","jsxDEV","_jsxDEV","defaultValues","title","description","url","URL_REGEX","NewVideo","_s","register","handleSubmit","formState","errors","toast","navigate","mutate","isPending","mutationFn","data","concat","method","body","JSON","stringify","user_id","video_url","then","status","duration","isClosable","as","onSubmit","children","isInvalid","fileName","_jsxFileName","lineNumber","columnNumber","required","pattern","value","message","type","isLoading","_c","$RefreshReg$"],"sources":["/Users/zohankhan/Downloads/zohan-test/src/video/NewVideo.tsx"],"sourcesContent":["import {\r\n  FormControl,\r\n  FormLabel,\r\n  FormHelperText,\r\n  Textarea,\r\n  Input,\r\n  VStack,\r\n  Button,\r\n  useToast,\r\n} from \"@chakra-ui/react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useMutation } from \"@tanstack/react-query\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { USER_NAME, BACKEND_BASE_URL, fetchFn } from \"../helpers\";\r\n\r\nconst defaultValues = {\r\n  title: \"\",\r\n  description: \"\",\r\n  url: \"\",\r\n};\r\n\r\nconst URL_REGEX = /^https:\\/\\/[^\\s/$.?#].[^\\s]*$/i;\r\n\r\nconst NewVideo = () => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    defaultValues,\r\n  });\r\n\r\n  const toast = useToast();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const { mutate, isPending } = useMutation({\r\n    mutationFn: (data: typeof defaultValues) =>\r\n      fetchFn(`${BACKEND_BASE_URL}/api/videos`, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          user_id: USER_NAME,\r\n          description: data.description,\r\n          video_url: data.url,\r\n          title: data.title,\r\n        }),\r\n      }).then(() => {\r\n        toast({\r\n          title: \"New video has been created.\",\r\n          status: \"success\",\r\n          duration: 5000,\r\n          isClosable: true,\r\n        });\r\n        navigate(\"/\");\r\n      }),\r\n  });\r\n\r\n  return (\r\n    <VStack as=\"form\" onSubmit={handleSubmit((data) => mutate(data))}>\r\n      <FormControl isInvalid={!!errors.title}>\r\n        <FormLabel>Title</FormLabel>\r\n        <Input {...register(\"title\", { required: true })} />\r\n      </FormControl>\r\n      <FormControl isInvalid={!!errors.url}>\r\n        <FormLabel>URL</FormLabel>\r\n        <Input\r\n          {...register(\"url\", {\r\n            required: true,\r\n            pattern: {\r\n              value: URL_REGEX,\r\n              message: \"Please enter a valid URL\",\r\n            },\r\n          })}\r\n        />\r\n        <FormHelperText>Youtube or other video url</FormHelperText>\r\n      </FormControl>\r\n      <FormControl isInvalid={!!errors.description}>\r\n        <FormLabel>Description</FormLabel>\r\n        <Textarea {...register(\"description\", { required: true })} />\r\n      </FormControl>\r\n      <Button type=\"submit\" isLoading={isPending}>\r\n        Post\r\n      </Button>\r\n    </VStack>\r\n  );\r\n};\r\n\r\nexport default NewVideo;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}